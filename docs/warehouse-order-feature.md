# Функция "Заказ бокса"

## Описание
Новая страница для заказа индивидуальных боксов на складах. Доступна только для пользователей с ролью `USER`.

## Маршрут
- **URL**: `/warehouse-order`
- **Доступ**: Только для авторизованных пользователей с ролью `USER`

## Функциональность

### 1. Выбор склада
- Отображение списка всех доступных складов
- Показ информации о складе: название, адрес, время работы, статус
- Подсчет количества доступных боксов в каждом складе

### 2. Выбор бокса
- **Интерактивная схема** для склада "EXTRA SPACE Мега":
  - Визуальный план склада с использованием react-konva
  - Цветовая индикация статуса боксов:
    - Жёлтый (#fef3b2) - свободные боксы (VACANT)
    - Серый с иконкой замка - занятые боксы (OCCUPIED)
    - Синий - выбранный бокс
  - Hover эффекты для интерактивности
  - Отображение объема прямо на схеме
- **Список карточек** для остальных складов:
  - Фильтрация боксов по типу `INDIVIDUAL` и статусу `VACANT`
  - Отображение информации о боксе: название, объем, высота, изображение
  - Показ доступного объема в боксе
- **Уведомление** для склада "EXTRA SPACE Главный склад" о будущем добавлении схемы

### 3. Добавление товаров
- Динамическое добавление/удаление товаров
- Поля для каждого товара:
  - Название
  - Объем (м³)
  - Тип груза (Обычный/Тяжелый/Хрупкий)
- Валидация общего объема товаров относительно доступного места в боксе

### 4. Выбор срока аренды
- Варианты: 1, 2, 3, 6, 12 месяцев

### 5. Создание заказа
- Отправка данных на backend
- Toast уведомления об успехе/ошибке
- Перенаправление в личный кабинет после успешного создания

## Технические детали

### API Endpoints
- `GET /warehouses` - получение списка складов с боксами
- `POST /orders` - создание заказа

### Защита маршрута
Используется специальный компонент `UserOnlyRoute` для ограничения доступа только для пользователей с ролью `USER`.

### Компоненты
- `WarehouseOrderPage` - основная страница
- `InteractiveWarehouseCanvas` - интерактивная схема склада с react-konva
- `UserOnlyRoute` - компонент защиты маршрута
- `warehouseApi` - API для работы со складами и заказами

### UX особенности
- Пошаговый интерфейс (выбор склада → выбор бокса → добавление товаров → создание заказа)
- Интерактивная схема склада с визуальным представлением боксов
- Цветовое кодирование статусов боксов для лучшего понимания
- Hover эффекты и выделение выбранных элементов
- Легенда для понимания обозначений на схеме
- Валидация на каждом шаге
- Отзывчивый дизайн для мобильных устройств
- Toast уведомления для обратной связи

### Используемые ресурсы
- `warehouseLayout.json` - координаты и размеры боксов на схеме
- `INDIVIDUAL.png` - фоновое изображение схемы склада
- `lock.png` - иконка для занятых боксов
- Библиотека `react-konva` для интерактивной canvas графики

## Интеграция с существующим кодом
- Кнопка "ЗАБРОНИРОВАТЬ БОКС" на главной странице перенаправляет на `/warehouse-order`
- Использует существующие компоненты: Header, Footer, ChatButton
- Интегрирована с системой авторизации через AuthContext 
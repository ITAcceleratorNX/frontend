import React, { useState, useEffect } from 'react';
import { Header } from '../../widgets';
import Footer from '../../widgets/Footer';
import { User, UserCheck, ShoppingBag, ShoppingCart, Code, Package, FileText } from 'lucide-react';

const PrivacyPolicyPage = () => {
  const [activeSection, setActiveSection] = useState('section1');

  useEffect(() => {
    const handleScroll = () => {
      const sections = [
        'section0', 'section1', 'section2', 'section3', 'section4', 'section5',
        'section6', 'section7', 'section8', 'section9'
      ];
      
      const headerHeight = 96; // Высота хэдера + отступ
      const scrollPosition = window.scrollY + headerHeight;
      
      for (let i = sections.length - 1; i >= 0; i--) {
        const element = document.getElementById(sections[i]);
        if (element && element.offsetTop <= scrollPosition) {
          setActiveSection(sections[i]);
          break;
        }
      }
    };

    window.addEventListener('scroll', handleScroll);
    return () => window.removeEventListener('scroll', handleScroll);
  }, []);

  const sections = [
    { id: 'section0', title: 'Основные определения' },
    { id: 'section1', title: 'Общие положения' },
    { id: 'section2', title: 'Сведения об Операторе' },
    { id: 'section3', title: 'Персональные данные и порядок их использования' },
    { id: 'section4', title: 'Цели обработки персональных данных' },
    { id: 'section5', title: 'Зачем ExtraSpace запрашивает данные из Набора' },
    { id: 'section6', title: 'Согласие Клиента на обработку персональных данных' },
    { id: 'section7', title: 'Обеспечение безопасности персональных данных' },
    { id: 'section8', title: 'Права Клиента' },
    { id: 'section9', title: 'Заключительные положения' },
  ];

  const scrollToSection = (sectionId) => {
    setActiveSection(sectionId);
    const element = document.getElementById(sectionId);
    if (element) {
      const headerHeight = 96; // Высота хэдера + отступ
      const elementPosition = element.offsetTop - headerHeight;
      window.scrollTo({
        top: elementPosition,
        behavior: 'smooth'
      });
    }
  };

  return (
    <div className="min-h-screen bg-white flex flex-col">
      <Header />
      
      {/* Title Section with Gradient Background */}
      <div className="bg-gradient-to-r from-[#E0F2FE] to-white py-16 px-4">
        <div className="container mx-auto max-w-6xl text-center">
          <h1 className="text-3xl md:text-4xl lg:text-5xl font-bold text-[#273655] mb-2 font-['Montserrat'] leading-tight">
            Публичная оферта покупки
          </h1>
          <h2 className="text-3xl md:text-4xl lg:text-5xl font-bold text-[#273655] mb-6 font-['Montserrat'] leading-tight">
            склада в ExtraSpace
          </h2>
          <p className="text-sm md:text-base text-[#273655] font-['Montserrat']">
            Используя наш сервис, вы принимаете условия Публичной оферты.
          </p>
        </div>
      </div>

      {/* Content Section */}
      <div className="flex-1 bg-white">
        <div className="container mx-auto max-w-6xl px-4 py-12">
          <div className="flex flex-col lg:flex-row gap-8">
            {/* Left Sidebar Navigation */}
            <aside className="lg:w-64 flex-shrink-0">
              <nav className="sticky top-24 max-h-[calc(100vh-8rem)] overflow-y-auto">
                <ul className="space-y-2">
                  {sections.map((section, index) => (
                    <li key={section.id}>
                      <button
                        onClick={() => scrollToSection(section.id)}
                        className={`w-full text-left px-4 py-2 rounded transition-colors font-['Montserrat'] text-sm ${
                          activeSection === section.id
                            ? 'text-[#00A991] font-semibold'
                            : 'text-[#273655] hover:text-[#00A991] hover:bg-gray-50'
                        }`}
                      >
                        {section.title}
                      </button>
                    </li>
                  ))}
                </ul>
              </nav>
            </aside>

            {/* Main Content */}
            <div className="flex-1 font-['Montserrat'] text-[#273655]">
              {/* Section 0 - Основные определения */}
              <section id="section0" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-8">Основные определения</h2>
                
                <div className="space-y-8">
                  {/* Покупатель */}
                  <div className="flex gap-4">
                    <div className="flex-shrink-0">
                      <User className="w-6 h-6 text-teal-600" />
                    </div>
                    <div className="flex-1">
                      <h3 className="text-xl font-bold text-[#273655] mb-2">Покупатель</h3>
                      <p className="text-[#273655] leading-relaxed">
                        Физическое лицо, намеревающееся заказать или приобрести товар для личных, семейных, домашних и иных нужд, не связанных с осуществлением предпринимательской деятельности, размещающее заказ на extraspace.kz или указанное в качестве получателя товара.
                      </p>
                    </div>
                  </div>

                  {/* Зарегистрированный покупатель */}
                  <div className="flex gap-4">
                    <div className="flex-shrink-0">
                      <UserCheck className="w-6 h-6 text-teal-600" />
                    </div>
                    <div className="flex-1">
                      <h3 className="text-xl font-bold text-[#273655] mb-2">Зарегистрированный покупатель</h3>
                      <p className="text-[#273655] leading-relaxed">
                        Покупатель, предоставивший Продавцу персональные данные (имя, электронная почта, телефон) для многократного размещения заказов.
                      </p>
                    </div>
                  </div>

                  {/* Продавец */}
                  <div className="flex gap-4">
                    <div className="flex-shrink-0">
                      <ShoppingBag className="w-6 h-6 text-teal-600" />
                    </div>
                    <div className="flex-1">
                      <h3 className="text-xl font-bold text-[#273655] mb-2">Продавец</h3>
                      <p className="text-[#273655] leading-relaxed">
                        Организация или индивидуальный предприниматель, реализующие товары. В рамках настоящих Правил Продавцом является ТОО «Valar Group» Казахстан, город Алматы, Бостандыкский район, улица Аль-Фараби 19/1.
                      </p>
                    </div>
                  </div>

                  {/* Интернет-магазин и Сайт */}
                  <div className="grid md:grid-cols-2 gap-6">
                    <div className="flex gap-4">
                      <div className="flex-shrink-0">
                        <ShoppingCart className="w-6 h-6 text-teal-600" />
                      </div>
                      <div className="flex-1">
                        <h3 className="text-xl font-bold text-[#273655] mb-2">Интернет-магазин</h3>
                        <p className="text-[#273655] leading-relaxed">
                          Сайт, на котором Покупатель может ознакомиться с товарами, их описанием, ценами, выбрать способ оплаты и доставки товара.
                        </p>
                      </div>
                    </div>
                    <div className="flex gap-4">
                      <div className="flex-shrink-0">
                        <Code className="w-6 h-6 text-teal-600" />
                      </div>
                      <div className="flex-1">
                        <h3 className="text-xl font-bold text-[#273655] mb-2">Сайт</h3>
                        <p className="text-[#273655] leading-relaxed">
                          Сайт, на котором Покупатель может ознакомиться с товарами, их описанием, ценами, выбрать способ оплаты и доставки товара.
                        </p>
                      </div>
                    </div>
                  </div>

                  {/* Товар */}
                  <div className="flex gap-4">
                    <div className="flex-shrink-0">
                      <Package className="w-6 h-6 text-teal-600" />
                    </div>
                    <div className="flex-1">
                      <h3 className="text-xl font-bold text-[#273655] mb-2">Товар</h3>
                      <p className="text-[#273655] leading-relaxed">
                        Предмет купли-продажи, не изъятый из гражданского оборота, представленный к продаже в Интернет-магазине, в частности товары, отмеченные как «в наличии».
                      </p>
                    </div>
                  </div>

                  {/* Заказ на резерв товара в магазине */}
                  <div className="flex gap-4">
                    <div className="flex-shrink-0">
                      <FileText className="w-6 h-6 text-teal-600" />
                    </div>
                    <div className="flex-1">
                      <h3 className="text-xl font-bold text-[#273655] mb-2">Заказ на резерв товара в магазине</h3>
                      <p className="text-[#273655] leading-relaxed">
                        Заявка на резервирование товара в выбранном магазине, направленная через Интернет, которая считается размещённой после получения Покупателем SMS-уведомления о наличии товара.
                      </p>
                    </div>
                  </div>
                </div>
              </section>

              {/* Section 1 */}
              <section id="section1" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Общие положения</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    1.1. Настоящее Соглашение об обработке персональных данных (далее – «Соглашение») определяет порядок обработки и защиты персональных данных физических лиц, пользующихся сайтом и сервисами ExtraSpace по адресу: https://extraspace.kz (далее – «Сайт»), и услугами по хранению имущества.
                  </p>
                  <p>
                    1.2. Оператором персональных данных является Товарищество с ограниченной ответственностью «Valar Group» (далее – «Оператор»).
                  </p>
                  <p>
                    1.3. Соглашение разработано в соответствии с законодательством Республики Казахстан о персональных данных и их защите и является общедоступным документом.
                  </p>
                  <p>
                    1.4. Использование Сайта, регистрация личного кабинета, оформление заявки/договора хранения, заказ доставки вещей и иные действия, связанные с вводом персональных данных на Сайте, означают согласие физического лица (далее – «Клиент») с условиями настоящего Соглашения.
                  </p>
                </div>
              </section>

              {/* Section 2 */}
              <section id="section2" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Сведения об Операторе</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    2.1. Оператор персональных данных: ТОО «ValarGroup» БИН: 230240017395
                  </p>
                  <p>
                    2.2. Адрес Оператора: Казахстан, г. Алматы, Бостандыкский район, ул. Аль-Фараби 19/1.
                  </p>
                  <p>
                    2.3. Контактные данные для обращений по вопросам обработки персональных данных: E-mail: extra.space7272@gmail.com<br />
                    Телефон: +7 778 391 14 25
                  </p>
                </div>
              </section>

              {/* Section 3 */}
              <section id="section3" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Персональные данные и порядок их использования</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    3.1. Оператор обрабатывает персональные данные Клиентов с учетом требований Закона Республики Казахстан от 21 мая 2013 года № 94-V «О персональных данных и их защите», для конкретных и заранее определённых целей, с ограничением объёма и срока хранения.
                  </p>
                  <p>
                    3.2. Персональные данные могут собираться Оператором непосредственно у Клиента через Сайт, мобильные и веб-формы, а также при взаимодействии с Оператором по телефону, через мессенджеры и иными способами связи.
                  </p>
                  <p>
                    3.3. Оператор может обрабатывать, в том числе, следующие персональные данные Клиентов (далее – «Набор данных»):
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>фамилия, имя, отчество (при наличии);</li>
                    <li>дата рождения;</li>
                    <li>ИИН;</li>
                    <li>номер документа, удостоверяющего личность;</li>
                    <li>адрес проживания / регистрации (а также адрес забора/доставки вещей при необходимости);</li>
                    <li>основной контактный номер телефона;</li>
                    <li>адрес электронной почты;</li>
                    <li>запасной контакт (телефон близкого родственника или иного контактного лица) – при наличии и по усмотрению Клиента.</li>
                  </ul>
                  <p>
                    3.4. Дополнительно Оператор может обрабатывать следующие данные:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>данные о заключённых договорах хранения (номер договора, номер бокса/ячейки, тип хранения, срок хранения, стоимость, статус договора);</li>
                    <li>данные о заявках и заказах (дата и время подачи, статусы обработки, история операций по заявке);</li>
                    <li>информация о платежах (сумма, дата и способ оплаты, статус платежа; при этом данные банковской карты обрабатываются платёжным провайдером в пределах его лицензии и не хранятся у Оператора в открытом виде);</li>
                    <li>технические данные: IP-адрес, сведения о браузере и устройстве, cookies, дата и время посещения, действия на Сайте (при наличии систем веб-аналитики).</li>
                  </ul>
                  <p>
                    3.5. Оператор обрабатывает персональные данные как с использованием средств автоматизации, так и без их использования.
                  </p>
                </div>
              </section>

              {/* Section 4 */}
              <section id="section4" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Цели обработки персональных данных</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    4.1. Персональные данные Клиентов обрабатываются Оператором для следующих целей:
                  </p>
                  <p>
                    4.1.1. Заключение и исполнение договора хранения и сопутствующих услуг, включая:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>регистрацию и ведение личного кабинета Клиента;</li>
                    <li>оформление заявок на аренду боксов и услуг по облачному хранению;</li>
                    <li>формирование, подписание и хранение договоров и дополнительных соглашений;</li>
                    <li>организацию доставки и возврата вещей.</li>
                  </ul>
                  <p>
                    4.1.2. Идентификация Клиента и подтверждение его личности, в том числе:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>однозначное сопоставление договора и ячейки/бокса с конкретным Клиентом;</li>
                    <li>предотвращение ошибок и злоупотреблений, связанных с совпадением ФИО или контактных данных;</li>
                    <li>восстановление доступа к личному кабинету и подтверждение прав Клиента на вещи и бокс.</li>
                  </ul>
                  <p>
                    4.1.3. Оформление финансовых и учётных документов, в том числе:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>выставление счетов, формирование чеков и иных документов, связанных с оплатой услуг;</li>
                    <li>ведение бухгалтерского и налогового учёта в соответствии с законодательством Республики Казахстан;</li>
                    <li>проведение возвратов, перерасчётов и иных взаиморасчётов.</li>
                  </ul>
                  <p>
                    4.1.4. Информирование Клиента о ходе исполнения договора, а именно:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>отправка СМС, e-mail и/или push-уведомлений о статусе заявок, оплат, доставок и возвратов;</li>
                    <li>уведомления о сроках окончания аренды и необходимости продления или освобождения бокса.</li>
                  </ul>
                  <p>
                    4.1.5. Связь с Клиентом и поддержка обслуживания, включая:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>обработку обращений, жалоб и предложений;</li>
                    <li>предоставление консультаций по работе сервиса.</li>
                  </ul>
                  <p>
                    4.1.6. Соблюдение требований законодательства Республики Казахстан, в том числе требований, связанных с финансовым мониторингом, налоговым и иным обязательным учётом, производится в рамках ныне действующего законодательства РК;
                  </p>
                  <ul className="list-disc pl-6 space-y-2 ml-4">
                    <li>Гражданский кодекс РК;</li>
                    <li>Кодекс Республики Казахстан О налогах и других обязательных платежах в бюджет;</li>
                    <li>Административный Процедурно-процессуальный кодекс Республики Казахстан</li>
                    <li>Закон Республики Казахстан «О персональных данных и их защите»;</li>
                  </ul>
                  <p>
                    4.1.7. Маркетинговые и информационные рассылки (при наличии отдельного согласия Клиента):
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>информирование о новых услугах, акциях, специальных предложениях ExtraSpace;</li>
                    <li>проведение опросов удовлетворённости сервисом.</li>
                  </ul>
                </div>
              </section>

              {/* Section 5 */}
              <section id="section5" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Зачем ExtraSpace запрашивает данные из Набора (ФИО, дата рождения, ИИН и др.)</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    5.1. Указанные в п. 3.3 данные запрашиваются Оператором строго для целей, связанных с договором хранения, в том числе:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>ФИО, дата рождения, ИИН, номер удостоверения личности – для юридически корректного заключения договора хранения, однозначной идентификации Клиента и защиты его прав как владельца имущества и арендатора бокса;</li>
                    <li>адрес проживания и адрес хранения/доставки – для корректного оформления договоров, актов, накладных и организации логистики (забор и возврат вещей);</li>
                    <li>основной контактный телефон и e-mail – для связи по вопросам договора, уведомлений о статусе заявок, оплат, доставок, возвратов и важных изменений в сервисе;</li>
                    <li>запасной контакт (родственник/другое контактное лицо) – по желанию Клиента, исключительно для связи в экстренных или спорных ситуациях (например, если основной номер недоступен или требуется дополнительное подтверждение).</li>
                  </ul>
                  <p>
                    5.2. Оператор не использует указанные данные для целей, не связанных с исполнением договора хранения и функционированием сервиса ExtraSpace, за исключением случаев, когда Клиент отдельно даёт согласие на маркетинговые рассылки или иные действия, прямо предусмотренные законодательством.
                  </p>
                </div>
              </section>

              {/* Section 6 */}
              <section id="section6" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Согласие Клиента на обработку персональных данных</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    6.1. Совершая действия на Сайте (регистрация, оформление заявки, заключение договора, ввод данных в форме, проставление галочки согласия и т.п.), Клиент подтверждает, что:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>ознакомился с настоящим Соглашением;</li>
                    <li>даёт Оператору согласие на сбор, хранение и обработку своих персональных данных в объёме и для целей, указанных в Соглашении.</li>
                  </ul>
                  <p>
                    6.2. Согласие Клиента распространяется на все персональные данные, которые были предоставлены Оператору ранее, предоставляются в настоящий момент или будут предоставлены в будущем, в рамках использования Сайта и услуг ExtraSpace.
                  </p>
                  <p>
                    6.3. Оператор обрабатывает персональные данные Клиента не дольше, чем это необходимо для достижения целей обработки, указанных в настоящем Соглашении, если иные сроки не установлены законодательством Республики Казахстан.
                  </p>
                  <p>
                    6.4. Сроки хранения персональных данных<br />
                    Персональные данные Клиента хранятся Оператором:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>в течение срока действия договора хранения;</li>
                    <li>а также в течение 5 (пяти) лет после прекращения договора — в целях соблюдения требований налогового, бухгалтерского и иного законодательства Республики Казахстан, а также для защиты законных интересов Оператора в случае споров.</li>
                  </ul>
                  <p>
                    По истечении указанных сроков персональные данные подлежат уничтожению или обезличиванию, если иное не предусмотрено законодательством Республики Казахстан.
                  </p>
                  <p>
                    6.5. Достоверность предоставляемых данных<br />
                    Клиент подтверждает и гарантирует, что все персональные данные, предоставленные им Оператору, являются достоверными, актуальными и принадлежат лично Клиенту.<br />
                    Клиент несёт ответственность за последствия предоставления недостоверных, неполных или ошибочных персональных данных, включая невозможность надлежащего исполнения договора хранения, идентификации Клиента и подтверждения его прав на имущество.<br />
                    Оператор не несёт ответственности за негативные последствия, возникшие вследствие предоставления Клиентом некорректных персональных данных.
                  </p>
                </div>
              </section>

              {/* Section 7 */}
              <section id="section7" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Обеспечение безопасности персональных данных</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    7.1. Оператор принимает необходимые правовые, организационные и технические меры для защиты персональных данных от неправомерного или случайного доступа, уничтожения, изменения, блокирования, копирования, распространения, а также иных неправомерных действий.
                  </p>
                  <p>
                    7.2. Меры по обеспечению безопасности персональных данных включают, в числе прочего:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>использование защищённых каналов связи при передаче данных (при наличии технической возможности);</li>
                    <li>ограничение доступа к персональным данным только тем сотрудникам и подрядчикам, которым они необходимы для исполнения служебных обязанностей;</li>
                    <li>применение средств учёта и контроля операций с персональными данными;</li>
                    <li>работу с подрядчиками на основании договоров, предусматривающих соблюдение требований конфиденциальности и безопасности.</li>
                  </ul>
                </div>
              </section>

              {/* Section 8 */}
              <section id="section8" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Права Клиента</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    8.1. Клиент имеет право:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>запросить информацию о своих персональных данных, обрабатываемых Оператором;</li>
                    <li>требовать уточнения, обновления или исправления своих персональных данных;</li>
                    <li>отозвать согласие на обработку персональных данных (в части, не связанной с обязательной обработкой по закону и исполнением действующих договоров);</li>
                    <li>требовать удаления или блокирования персональных данных, если они обрабатываются с нарушением требований законодательства;</li>
                    <li>защищать свои права и законные интересы в установленном законом порядке.</li>
                  </ul>
                  <p>
                    8.2. Для реализации своих прав Клиент может обратиться к Оператору:
                  </p>
                  <ul className="list-disc pl-6 space-y-2">
                    <li>в письменной форме по адресу:<br />
                    Казахстан, г. Алматы, Бостандыкский район, ул. Аль-Фараби 19/1;</li>
                    <li>в электронной форме на e-mail: Tobayakov.sh@tmk-limited.com.</li>
                  </ul>
                </div>
              </section>

              {/* Section 9 */}
              <section id="section9" className="mb-12 scroll-mt-24">
                <h2 className="text-3xl font-bold mb-6">Заключительные положения</h2>
                <div className="space-y-4 leading-relaxed">
                  <p>
                    9.1. Настоящее Соглашение и отношения между Оператором и Клиентом регулируются законодательством Республики Казахстан.
                  </p>
                  <p>
                    9.2. Оператор вправе в одностороннем порядке изменять и/или дополнять настоящее Соглашение. Актуальная редакция всегда доступна на Сайте.
                  </p>
                  <p>
                    9.3. Продолжение использования Сайта и сервисов ExtraSpace после внесения изменений в Соглашение означает согласие Клиента с новой редакцией.
                  </p>
                  <p>
                    9.4. Настоящее Соглашение в отношении каждого Клиента вступает в силу с момента совершения им действий, свидетельствующих о согласии с его условиями, и действует до момента прекращения обработки персональных данных Оператором или отзыва согласия в установленном порядке.
                  </p>
                </div>
              </section>
            </div>
          </div>
        </div>
      </div>
      
      <Footer />
    </div>
  );
};

export default PrivacyPolicyPage;
